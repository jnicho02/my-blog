---
pageable: true
---
<h1>Archive for
  <% case page_type
     when 'day' %>
    <%= Date.new(year, month, day).strftime('%b %e %Y') %>
  <% when 'month' %>
    <%= Date.new(year, month, 1).strftime('%b %Y') %>
  <% when 'year' %>
    <%= year %>
  <% end %>
</h1>

<% if paginate && num_pages > 1 %>
  <p>Page <%= page_number %> of <%= num_pages %></p>

  <% if prev_page %>
    <p><%= link_to 'Previous page', prev_page %></p>
  <% end %>
<% end %>

<div class="card-columns">
  <% page_articles.each_with_index do |article, i| %>

    <% if article.tags.include? 'books' %>

      <div class="card" name="article-oneliner" style="max-width: 40rem;">
      <% if article.data.img %>
        <img class="card-img-top" data-src="<%= article.data.img %>" src="<%= article.data.img %>" style="width:100%; height:auto;" alt="Card image">
      <% end %>
        <div class="card-block">
          <p class="card-title"><%= link_to article.title, article %></p>
        </div>
        <div class="card-footer">
          <% if article.data.isbn %>
            ISBN: <%= article.data.isbn %>
          <% end %>
        </div>
      </div>

    <% elsif article.tags.include? 'events' %>
    
      <div class="card card-info" name="article-oneliner" style="max-width: 40rem;">
        <div class="card-block">
          <h4>event</h4>
          <p class="card-title"><%= link_to article.title, article %></p>
        </div>
        <div class="card-footer">
          <% case page_type
             when 'day' %>
          <% when 'month' %>
            <span class="label label-pill label-info pull-right"><%= article.date.strftime('%e') %></span>
          <% when 'year' %>
            <span class="label label-pill label-info pull-right"><%= article.date.strftime('%b %e') %></span>
          <% end %>
        </div>
      </div>

    <% else %>

      <div class="card" name="article-oneliner" style="max-width: 40rem;">
        <div class="card-block">
          <p class="card-title"><%= link_to article.title, article %></p>
        </div>
        <div class="card-footer">
          <% case page_type
             when 'day' %>
          <% when 'month' %>
            <span class="label label-pill label-info pull-right"><%= article.date.strftime('%e') %></span>
          <% when 'year' %>
            <span class="label label-pill label-info pull-right"><%= article.date.strftime('%b %e') %></span>
          <% end %>
        </div>
      </div>

    <% end %>
  <% end %>
</div>

<% if paginate %>
  <% if next_page %>
    <p><%= link_to 'Next page', next_page %></p>
  <% end %>
<% end %>
